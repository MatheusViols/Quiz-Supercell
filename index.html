<!DOCTYPE html> <!--tipo do html -->
<html lang="pt-BR"> <!-- definição idioma -->
    <head> <!-- Inicio Cabeçalho-->
	<meta charset="UTF-8" /> <!-- caracteres  -->
	<meta name="viewport" content="width=device-width, initial-scale=1.0" /> <!-- Layout responsivo em dispositivos móveis -->
	<link rel="stylesheet" href="style.css"> <!-- estilização da pagina -->
	<title>Quiz Supercell</title> <!-- Título -->
    </head> <!-- Fim do cabeçalho -->
    <body> <!--Inicio do conteúdo visível-->
	<header>
	    <div id="coroas"> </div>
	</header>
	<main>
	    <div id="quiz-container"> <!-- Contêiner principal do quiz -->
		<div class="gifs-personagens" style="justify-content: center;">

		    <!--
			<img src="imagens/gifs/pam.gif" alt="robozinho la ele" />
			<img src="imagens/gifs/pinguim_fundo_preto.gif" alt="pinguim brawl stars"/>
			<img src="imagens/gifs/robo_fundo_preto.gif" alt="robozinho la ele" />
		    -->
		    <img src="imagens/gifs/galinha.gif" alt="galinha do hay day" />
		</div>
		<div id="timer">Tempo: <span id="time-left"></span>s</div> <!-- Linha que mostra o tempo restante -->
		<div class="question" id="question-text"></div> <!-- Lugar onde a pergunta será exibida -->
		<div class="options" id="options"></div> <!-- Contêiner onde os botões de resposta vão aparecer -->
		<div id="result"></div> <!-- Espaço reservado para o resultado final -->

	    </div> <!-- Fecha o contêiner do quiz -->
	</main>

	<script> <!-- Início do script JavaScript -->
	    // CONFIGURAÇÕES
	    let tempoPorPergunta = 30; // segundos — variável que define quanto tempo cada pergunta tem

	    const quiz = [ // cada objeto representa uma pergunta do quiz

		{
		    pergunta: "Qual destes é um jogo da Supercell?", // Texto da pergunta
		    alternativas: ["Fortnite", "Clash Royale", "League of Legends", "Minecraft"], // Opções mostradas
		    correta: 1, // Índice da alternativa correta (0-based: 1 => "Clash Royale")
		    pontos: 10 // Quantos pontos vale essa pergunta
		},
		{
		    pergunta: "Em qual país a Supercell foi fundada?",
		    alternativas: ["Japão", "Finlândia", "Estados Unidos", "Suécia"], 
		    correta: 1, // Finlândia
		    pontos: 10
		},
		{
		    pergunta: "Qual foi o primeiro grande sucesso da Supercell?",
		    alternativas: ["Brawl Stars", "Boom Beach", "Clash of Clans", "Hay Day"],
		    correta: 2, // Clash of Clans
		    pontos: 10
		},
		{
		    pergunta: "Em que cidade fica a sede principal da Supercell?",
		    alternativas: ["Helsinki", "Oslo", "Estocolmo", "Copenhague"],
		    correta: 0, // Helsinki
		    pontos: 10
		},
		{
		    pergunta: "Em que ano a Supercell foi fundada?",
		    alternativas: ["2005", "2010", "2015", "2020"],
		    correta: 1, // 2010
		    pontos: 10
		},
		{
		    pergunta: "Quem é o CEO conhecido da Supercell?",
		    alternativas: ["Mark Zuckerberg", "Ilkka Paananen", "Satya Nadella", "Tim Cook"],
		    correta: 1, // Ilkka Paananen
		    pontos: 10
		},
		{
		    pergunta: "Qual empresa adquiriu participação majoritária na Supercell em 2016?",
		    alternativas: ["Tencent", "Sony", "Google", "Amazon"],
		    correta: 0, // Tencent
		    pontos: 10
		},
		{
		    pergunta: "Qual jogo da Supercell é focado em fazenda/agricultura?",
		    alternativas: ["Hay Day", "Clash Royale", "Boom Beach", "Clash of Clans"],
		    correta: 0, // Hay Day
		    pontos: 10
		},
		{
		    pergunta: "Qual jogo da Supercell combina cartas e confrontos em arenas?",
		    alternativas: ["Brawl Stars", "Clash Royale", "Hay Day", "Boom Beach"],
		    correta: 1, // Clash Royale
		    pontos: 10
		},
		{
		    pergunta: "Qual jogo da Supercell teve lançamento global em 2018?",
		    alternativas: ["Boom Beach", "Hay Day", "Brawl Stars", "Clash of Clans"],
		    correta: 2, // Brawl Stars
		    pontos: 10
		}
	    ];



	    // IMAGENS DE FUNDO POR PERGUNTA
	    const fundos = [ // URLs de imagens de fundo para cada pergunta


		"url('imagens/backgrounds/supercell.png')",
		"url('imagens/backgrounds/brawlstarsmecha.jpg')",
		"url('imagens/backgrounds/clashroyale3.jpg')",
		"url('imagens/backgrounds/clashofclans4.jpg')",
		"url('imagens/backgrounds/wp.jpg')",
		"url('imagens/backgrounds/hayday.jpg')",
		"url('imagens/backgrounds/bs.webp')",
		"url('imagens/backgrounds/cc.jpg')",
		"url('imagens/backgrounds/torre.jpg')",
		"url('imagens/backgrounds/clash.jpg')",
		"url('imagens/backgrounds/aaa.jpg')"
	    ];

	    let indice = 0; // Índice da pergunta atual 
	    let pontuacao = 0; // Acumulador de pontos 
	    let tempo; // Variável que guarda o tempo restante da pergunta 
	    let contador; // usado para controlar o timer

	    function iniciarPergunta() { // Função que configura e mostra a pergunta atual
		let main = document.querySelector('main')
		main.style.backgroundImage = fundos[indice] || 'none'; // Define a imagem de fundo 
		main.style.backgroundSize = 'cover'; // Faz a imagem cobrir todo o fundo
		main.style.backgroundRepeat = 'no-repeat'
		main.style.backgroundPosition = 'center';  // Centraliza a imagem de fundo
		if (indice >= quiz.length) { // Se passou da última pergunta
		    mostrarResultado(); // Mostra o resultado final
		    return; // Sai da função
		}

		const q = quiz[indice]; // Pega o objeto da pergunta atual
		document.getElementById("question-text").textContent = `(${indice+1}) ${q.pergunta}`; // Insere o texto da pergunta no elemento apropriado
		const opcoesDiv = document.getElementById("options"); // Referência ao contêiner de opções
		opcoesDiv.innerHTML = ""; // Limpa quaisquer opções anteriores

		q.alternativas.forEach((alt, i) => { // Para cada alternativa da pergunta atual
		    const btn = document.createElement("button"); // Cria um elemento button
		    btn.textContent = alt; // Define o texto do botão como a alternativa
		    btn.onclick = () => responder(i); // Ao clicar, chama a função responder com o índice da alternativa
		    opcoesDiv.appendChild(btn); // Adiciona o botão ao contêiner de opções
		});

		tempo = tempoPorPergunta; // Reseta o tempo para o valor configurado
		document.getElementById("time-left").textContent = tempo; // Atualiza o mostrador do tempo na tela
		iniciarTimer(); // Inicia o contador regressivo
	    }

	    function iniciarTimer() { // Função que inicia o setInterval do timer
		clearInterval(contador); // Garante que interval anterior seja limpo
		contador = setInterval(() => { // Define um intervalo que executa todo segundo
		    tempo--; // Decrementa o tempo
		    document.getElementById("time-left").textContent = tempo; // Atualiza o mostrador

		    if (tempo <= 0) { // Se o tempo zerou ou ficou negativo
			clearInterval(contador); // Limpa o intervalo atual
			indice++; // Avança para a próxima pergunta
			iniciarPergunta(); // Chama iniciarPergunta para exibir a próxima
		    }
		}, 1000); 
	    }

	    function responder(i) { // Função chamada quando o usuário clica numa opção
		clearInterval(contador); // Para o timer atual
		const q = quiz[indice]; // Pega a pergunta atual
		if (i === q.correta) { // Compara índice selecionado com o índice correto
		    pontuacao += q.pontos; // Se correto, soma os pontos da pergunta
		    if (pontuacao === 10 || pontuacao === 50 || pontuacao === 100) {
			let divCoroas = document.getElementById('coroas');
			let coroa = document.createElement('img'); 
			coroa.src = 'imagens/coroa.png';
			divCoroas.appendChild(coroa);
		    }
		}
		indice++; // Avança para a próxima pergunta
		iniciarPergunta(); // Exibe próxima pergunta (ou resultado se acabou)
	    }

	    function mostrarResultado() { // Função que exibe a tela de resultado final
		let desempenho;
		if (pontuacao === 100) {
		    desempenho = "Seu desempenho foi excelente, acertou todas as perguntas e garantiu as três coroas!";
		} else if (pontuacao >= 50) {
		    desempenho = "Seu desempenho foi bom, acertou mais que a metade das perguntas e garantiu duas coroas";
		} else if (pontuacao >= 10) {
		    desempenho = "";
		} else {
		    desempenho = "Burro.";
		}

		document.getElementById("quiz-container").innerHTML = `
		    <h2><strong>${desempenho}</strong></h2>
		    <p>Pontuação total: <strong>${pontuacao}</strong></p>
		    <p>Você respondeu ${quiz.length} perguntas.</p>
		    `; // Substitui todo o conteúdo do contêiner pelo HTML do resultado
	    }

	    iniciarPergunta(); // Chama a função inicial para começar o quiz automaticamente
	</script> <!-- Fim do JavaScript -->
    </body> <!-- Fim do corpo -->
</html> <!-- Fim do HTML -->
